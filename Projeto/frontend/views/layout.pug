doctype html
html
  head    
    title= title
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='https://www.w3schools.com/w3css/4/w3.css')
    link(rel="icon", type="image/x-icon", href="/favicon.png")

    script(src="https://code.jquery.com/jquery-3.7.1.min.js")
    script(src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js")
    script(src="/javascript/timezone-utils.js")
  body
    // Sidebar - aparece quando logado (guest ou usu√°rio real)
    .w3-sidebar.w3-bar-block.w3-dark-grey.w3-card.borda-direita-sidebar
      h3.w3-center.w3-text-yellow.w3-italic.w3-padding-top-titulo Eu Digital
      
      .sidebar-menu
        a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/')
          span.emoji üè†
          span.text Homepage
        a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/search')
          span.emoji üîç
          span.text Pesquisar
        
        if user
          a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/sip/upload')
            span.emoji üì§
            span.text Submeter SIP
          a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/items')
            span.emoji üìÅ
            span.text Meus Items
          a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/profile')
            span.emoji üë§
            span.text Perfil
          if user.tipo === 'admin'
            a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/gerir-users')
              span.emoji üìä
              span.text Gest√£o de Utilizadores
        
        if user
          a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/logout')
            span.emoji üö™
            span.text Logout
        else
          a.w3-bar-item.w3-button.w3-hover-dark-gray.w3-text-white(href='/login')
            span.emoji üö™
            span.text Login

    .w3-main
      block content

    style.
      body {
        background-color: #1a1a1a !important;
        color: #ffffff !important;
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      
      .no-sidebar {
        margin-left: 0 !important;
      }
      
      .borda-direita-sidebar {
        border-right: 1px solid #333 !important;
      }

      .w3-padding-top-titulo {
        padding-top: 10%;
        font-size: 2.5em;
        font-weight: bold;
      }

      .w3-sidebar {
        width: 20%;
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        overflow-x: hidden;
        overflow-y: auto;
        z-index: 3;
        background-color: #1a1a1a !important;
        display: flex;
        flex-direction: column;
      }
      
      .sidebar-menu {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        padding: 20px 0;
      }
      
      .w3-main {
        margin-left: 20%;
        padding: 20px;
        background-color: #1a1a1a;
      }
      
      .w3-dark-gray {
        background-color: #1a1a1a !important;
      }

      .w3-hover-dark-gray {
        background-color: #1a1a1a !important;
      }
      
      .w3-hover-dark-gray:hover {
        background-color: #3a3a3a !important;
      }
      
      .w3-text-light-grey {
        color: #cccccc !important;
      }
      
      .w3-border-blue {
        border-color: #2196F3 !important;
      }
      
      .w3-bar-item {
        width: 100%;
        text-align: left;
        border: none;
        display: flex;
        text-decoration: none;
        font-size: 1.5em;
        padding: 2% 1.6%;
        margin: 0.5% 0;
        border-radius: 8px;
        transition: all 0.3s ease;
        flex: 1;
        align-items: center;
        justify-content: flex-start;
      }
      
      .w3-bar-item:hover {
        transform: translateX(5px);
        box-shadow: 0 2px 10px rgba(33, 150, 243, 0.3);
      }

      // ‚úÖ ESTILO ESPECIAL PARA ITENS GUEST
      .w3-bar-item.guest-item {
        border-left: 3px solid #ffc107;
        background-color: rgba(255, 193, 7, 0.1);
      }

      @media (max-width: 1230px) {
        .w3-bar-item {
          font-size: 1.1em;
        }
      }

      @media (max-width: 1000px) {
        .w3-bar-item .text {
          display: none;
        }

        .w3-padding-top-titulo {
          display: none;
        }
        
        .w3-bar-item {
          justify-content: center;
          font-size: 2em;
        }
        
        .w3-sidebar {
          width: 10%;
        }
        
        .w3-main {
          margin-left: 100px;
        }
      }

      @media (max-width: 700px) {
        .w3-sidebar {
          display: none;
        }
        .w3-main {
          margin-left: 0;
        }
      }
